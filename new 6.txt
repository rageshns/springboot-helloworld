<project name="P13N-main" default="all" basedir=".">
	<description>P13N maint</description>
	<property name="build-classes" location="WEB-INF" />
	<property name="build-METAINF" location="META-INF" />
	<property name="deliverydb" location="deliveryDB" />
	<property name="Pages" location="pages" />
	<property name="Solution" location="solution" />
	<target name="all" depends="war,prepare" description="Cleans and Builds" />
	<target name="prepare" >
        <mkdir dir="${build-METAINF}" />
        <mkdir dir="${deliverydb}" />
        <mkdir dir="${Pages}" />
        <mkdir dir="${Solution}" />
     
    </target>
	<target name="war" depends="compile" description="Creates the war to be put in WEB-INF/lib">
        <war destfile="p13n.war" needxmlfile="false">
            <manifest>
                <attribute name="Specification-Title" value="${ant.project.name}" />
                <attribute name="Implementation-Title" value="${ant.project.name}" />
                <attribute name="Implementation-Version" value="1.0" />
                <attribute name="Package-Version" value="${build.number}" />
                <attribute name="Built-By" value="${user.name}"/>
            </manifest>
          
        	<fileset dir="${build-classes}">
        		<include name="**.*"/>
        	</fileset>
			<fileset dir="${deliverydb}">
        		<include name="**.*"/>
         	</fileset>
			<fileset dir="${Pages}">
        		<include name="**.*"/>
         	</fileset>
			<fileset dir="${Solution}">
        		<include name="**.*"/>
         	</fileset>
        </war>
	</target>
	<target name="compile" description="Compiles java code.">
        <mkdir dir="${build-METAINF}" /> 
	</target>
	<path id="classpath-all">
		<fileset dir="lib">
			<include name="**.jar"/>
		</fileset>
		<path location="${build-classes}"/>
		<path location="${deliverydb}"/>
		<path location="${Pages}"/>
		<path location="${Solution}"/>
	</path>
</project>